# 灰灰笔记（MemeOS 使用指南）

## 目录

1. [快速上手](#快速上手)
2. [基本操作](#基本操作)
3. [笔记管理](#笔记管理)
4. [标签系统](#标签系统)
5. [双向链接](#双向链接)
6. [卡片视图](#卡片视图)
7. [高级功能](#高级功能)
8. [数据管理](#数据管理)
9. [常见问题](#常见问题)

## 快速上手

### 首次使用

1. **启动应用**
   - 确保服务器已启动（前端 http://localhost:3000，后端 http://localhost:30002）
   - 在浏览器中访问 http://localhost:3000

2. **创建第一个笔记**
   - 点击主界面的 "新建笔记" 按钮
   - 输入笔记标题和内容
   - 点击 "保存" 完成创建

### 界面概览

- **顶部导航栏** - 包含应用标题、搜索框和用户操作
- **侧边栏** - 显示标签列表、过滤选项和快捷操作
- **主内容区** - 显示笔记列表和笔记编辑器
- **底部状态栏** - 显示系统状态和快捷信息

## 基本操作

### 创建笔记

1. 点击 "新建笔记" 按钮（+ 图标）
2. 在弹出的编辑器中输入：
   - **标题** - 笔记的简短描述
   - **内容** - 笔记的详细内容，支持 Markdown 格式
3. 点击 "保存" 或使用快捷键 `Ctrl+S`

### 编辑笔记

1. 在笔记列表中点击要编辑的笔记
2. 点击 "编辑" 按钮
3. 修改笔记内容
4. 点击 "保存" 保存更改

### 删除笔记

1. 在笔记列表中找到要删除的笔记
2. 点击笔记卡片上的删除按钮（🗑️ 图标）
3. 在确认对话框中点击 "确认删除"

**注意**：删除的笔记会先进入回收站，可以在回收站中恢复或永久删除。

### 搜索笔记

1. 在顶部搜索框中输入关键词
2. 系统会实时搜索并显示匹配的笔记
3. 支持按标题、内容和标签进行搜索

## 笔记管理

### 笔记列表视图

系统提供多种笔记列表视图：

- **卡片视图** - 以卡片形式展示笔记，适合浏览
- **列表视图** - 以列表形式展示，适合快速查找
- **网格视图** - 以网格形式展示，适合大量笔记

### 笔记排序

可以按以下方式对笔记进行排序：

- **创建时间** - 最新创建或最早创建
- **修改时间** - 最近修改或最早修改
- **标题** - 按字母顺序排序
- **标签** - 按标签数量排序

### 笔记过滤

使用侧边栏的过滤功能：

- **按标签过滤** - 点击标签名称查看该标签下的所有笔记
- **按时间过滤** - 选择时间范围查看笔记
- **按状态过滤** - 查看已归档、已删除等状态的笔记

## 标签系统

### 创建标签

1. 在侧边栏中点击 "新建标签" 按钮
2. 输入标签名称
3. 选择标签颜色（可选）
4. 点击 "创建"

### 管理标签

- **编辑标签** - 右键点击标签，选择 "编辑"
- **删除标签** - 右键点击标签，选择 "删除"
- **合并标签** - 选择多个标签进行合并

### 标签颜色

系统提供多种预设颜色，可以为不同类型的标签设置不同颜色：

- 🔴 红色 - 重要事项
- 🟡 黄色 - 待办事项
- 🟢 绿色 - 已完成
- 🔵 蓝色 - 工作相关
- 🟣 紫色 - 个人生活

### 查看反向链接

1. 打开一个包含链接的笔记
2. 在笔记详情页面查看 "反向链接" 部分
3. 系统会显示所有链接到当前笔记的笔记列表

## 卡片视图

### 卡片样式

系统提供多种卡片样式：

- **简洁卡片** - 只显示标题和摘要
- **详细卡片** - 显示标题、内容预览、标签和元数据
- **图片卡片** - 包含图片的卡片布局
- **时间线卡片** - 按时间顺序展示的卡片

### 配色方案

可以选择不同的配色主题：

- **浅色主题** - 适合白天使用
- **深色主题** - 适合夜间使用
- **自动主题** - 根据系统设置自动切换
- **自定义主题** - 用户自定义颜色配置

### 卡片自定义

可以自定义卡片的显示内容：

- **显示/隐藏标签** - 控制标签的显示
- **显示/隐藏时间** - 控制创建/修改时间的显示
- **显示/隐藏摘要** - 控制内容摘要的显示
- **卡片大小** - 调整卡片的尺寸

## 高级功能

### 文件上传

1. 在笔记编辑器中点击 "上传文件" 按钮
2. 选择要上传的文件（支持图片、文档等格式）
3. 文件上传后会自动生成链接
4. 可以在笔记中引用上传的文件

### 数据备份

系统提供自动和手动备份功能：

#### 自动备份
- 每天自动备份一次数据
- 保留最近 7 天的备份
- 备份文件存储在 `backup_database.sqlite`

#### 手动备份
1. 点击设置中的 "备份" 按钮
2. 选择备份位置
3. 确认备份操作

### 数据恢复

1. 点击设置中的 "恢复" 按钮
2. 选择要恢复的备份文件
3. 确认恢复操作

**注意**：恢复操作会覆盖当前数据，请谨慎操作。

### 导入导出

#### 导出笔记
1. 选择要导出的笔记
2. 点击 "导出" 按钮
3. 选择导出格式（JSON、Markdown、PDF）
4. 保存导出文件

#### 导入笔记
1. 点击 "导入" 按钮
2. 选择要导入的文件
3. 选择导入选项（合并或替换）
4. 确认导入操作

## 数据管理

### 数据库结构

系统使用 SQLite 数据库，主要包含以下表：

- `users` - 用户信息
- `notes` - 笔记内容
- `tags` - 标签信息
- `user_configs` - 用户配置
- `note_history` - 笔记历史记录
- `tag_colors` - 标签颜色配置

### 数据清理

如果需要清理所有数据：

1. 停止服务器进程
2. 删除数据库文件：
   ```bash
   del database.sqlite
   del backup_database.sqlite
   ```
3. 重新初始化数据库：
   ```bash
   node server/init_database.js
   ```
4. 重启服务器

### 数据迁移

当需要更新数据库结构时：

1. 备份当前数据
2. 运行数据库迁移脚本
3. 验证数据完整性
4. 恢复正常使用

## 常见问题

### Q: 忘记密码怎么办？
A: 目前系统使用本地存储，如需重置请删除数据库文件并重新初始化。

### Q: 笔记内容丢失了怎么办？
A: 检查回收站，或从备份数据库中恢复。

### Q: 如何同步多设备数据？
A: 目前系统为单机版本，多设备同步功能正在开发中。

### Q: 支持哪些文件格式的上传？
A: 支持图片（JPG、PNG、GIF）等格式。

### Q: 如何自定义界面主题？
A: 待开发

### Q: 笔记链接失效怎么办？
A: 检查目标笔记是否被删除或重命名，如需要请更新链接。

### Q: 系统运行缓慢怎么办？
A: 尝试清理浏览器缓存，或检查数据库文件是否过大。

### Q: 如何导出所有数据？
A: 使用导出功能选择全部笔记，导出为 JSON 格式。


**祝您使用愉快！** 🎉