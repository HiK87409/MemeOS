# 颜色管理系统说明

## 📁 文件结构

```
src/
├── config/
│   └── colors.js          # 🎨 颜色配置文件（主要编辑这个）
├── contexts/
│   └── ThemeContext.jsx   # 🔄 主题上下文（应用颜色）
├── index.css              # 🎯 CSS变量定义（不要直接修改颜色）
└── docs/
    └── 颜色管理说明.md    # 📖 本说明文档
```

## 🎨 如何修改颜色

### 1. 修改现有颜色
打开 `src/config/colors.js` 文件，找到对应的颜色配置：

```javascript
// 例如：修改浅色模式的卡片背景色
light: {
  surface: '#000000',  // 卡片背景 - 改成你想要的颜色
  // ...其他颜色
}
```

### 2. 添加新颜色
在 `colorThemes.default.light` 或 `colorThemes.default.dark` 中添加新的颜色属性：

```javascript
light: {
  // 现有颜色...
  newColor: '#ff0000',  // 新颜色 - 红色
}
```

然后在 `applyThemeColors` 函数中添加对应的CSS变量：

```javascript
export const applyThemeColors = (colors) => {
  // 现有代码...
  root.style.setProperty('--theme-new-color', colors.newColor);
};
```

### 3. 添加新主题
在 `colorThemes` 对象中添加新的主题配置：

```javascript
export const colorThemes = {
  default: { /* 现有默认主题 */ },
  
  // 新主题
  blue: {
    id: 'blue',
    name: '蓝色主题',
    icon: '🔵',
    description: '清新的蓝色主题',
    dark: { /* 深色模式颜色 */ },
    light: { /* 浅色模式颜色 */ }
  }
};
```

## 🎯 颜色用途说明

| 颜色变量 | 用途 | 示例 |
|---------|------|------|
| `bg` | 页面主背景 | 整个应用的背景色 |
| `surface` | 卡片/组件背景 | 笔记卡片、侧边栏背景 |
| `elevated` | 悬浮元素背景 | 弹窗、下拉菜单 |
| `text` | 主要文字 | 标题、正文 |
| `textSecondary` | 次要文字 | 副标题、说明 |
| `textMuted` | 静音文字 | 提示、占位符 |
| `border` | 边框颜色 | 分割线、组件边框 |
| `primary` | 主要操作色 | 重要按钮、链接 |
| `primaryHover` | 主要操作悬停色 | 按钮悬停状态 |
| `secondary` | 次要操作色 | 普通按钮 |
| `accent` | 强调色 | 特殊标记、徽章 |
| `success` | 成功状态色 | 成功提示 |
| `warning` | 警告状态色 | 警告提示 |
| `error` | 错误状态色 | 错误提示 |
| `info` | 信息状态色 | 信息提示 |

## 🔄 颜色应用流程

1. **配置定义** (`colors.js`) → 定义所有颜色值
2. **主题上下文** (`ThemeContext.jsx`) → 读取配置并应用到CSS变量
3. **CSS使用** (`index.css` 和组件) → 通过CSS变量使用颜色

## ⚠️ 注意事项

### ✅ 正确做法
- 在 `colors.js` 中修改颜色
- 使用CSS变量 `var(--theme-surface)` 在样式中引用颜色
- 添加详细的中文注释说明颜色用途

### ❌ 错误做法
- 直接在 `index.css` 中修改CSS变量的值
- 在组件中硬编码颜色值（如 `#000000`）
- 在多个地方重复定义相同的颜色

## 🛠️ 调试技巧

### 1. 查看当前应用的颜色
打开浏览器开发者工具，在控制台中可以看到：
```
🎨 应用主题: 默认主题 浅色
🎨 当前颜色配置: {bg: "#f8fafc", surface: "#000000", ...}
```

### 2. 检查CSS变量
在开发者工具的Elements面板中，选择 `<html>` 元素，可以看到所有 `--theme-*` 变量的当前值。

### 3. 实时修改颜色
在控制台中运行：
```javascript
document.documentElement.style.setProperty('--theme-surface', '#ff0000');
```

## 📝 修改记录

- **2024-01-XX**: 创建统一的颜色管理系统
- **2024-01-XX**: 将浅色模式卡片背景改为黑色 (#000000)
- **2024-01-XX**: 统一浅色和深色模式的文字颜色配置

## 🤝 贡献指南

如果需要添加新颜色或修改现有颜色：

1. 先在 `colors.js` 中添加/修改颜色定义
2. 在 `applyThemeColors` 函数中添加对应的CSS变量设置
3. 在组件中使用CSS变量引用颜色
4. 更新本文档的修改记录
5. 测试浅色和深色两种模式下的效果

---

💡 **提示**: 这个颜色管理系统让你可以轻松地：
- 统一管理所有颜色
- 快速切换主题
- 避免颜色冲突
- 方便维护和扩展